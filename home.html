<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Home - Lemoney</title>
    <link rel="icon" type="image/png" href="Graphics/lemonie%20happy.png">
    <link rel="shortcut icon" href="Graphics/lemonie%20happy.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"/>
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <style>
        .logo-container { display:flex; justify-content:flex-start; margin-bottom:20px }
        .logo-link { display:flex; align-items:center; gap:8px }
        .logo { max-width:150px; height:auto }
        .brand-avatar { max-width:80px; height:auto }
        #loadingOverlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#fff; z-index:2147483647 }
        #loadingOverlay.hidden{ display:none }
        #loadingGif{ max-width:min(1000px,90vw); max-height:90vh; object-fit:contain; transition:opacity .6s ease }
        .page-container.dimmed{ filter:brightness(.35); transition:filter .6s }
        body.no-scroll{ overflow:hidden }
    </style>
</head>
<body>

    <div id="loadingOverlay" aria-hidden="true">
        <img id="loadingGif" src="Graphics/loading.gif" alt="Loading">
    </div>

    <div class="page-container">
        <div class="logo-container">
            <a href="home.html" class="logo-link">
                <img src="Graphics/lemonie satisfied.png" alt="Lemonie" class="brand-avatar">
                <img src="Graphics/LEMONEY%20logo.png" alt="Lemoney" class="logo">
            </a>
        </div>

        <nav class="nav-bar">
            <a href="home.html" class="nav-link active">Home</a>
            <a href="budget.html" class="nav-link">Budget</a>
            <a href="task.html" class="nav-link">Task</a>
            <a href="shop.html" class="nav-link">Shop</a>
        </nav>

        <main style="max-width:1000px;margin:0 auto;">
            <section style="text-align:center;margin:24px 0;">
                <h1>Welcome back</h1>
                <p style="color:#6e6e73">Here is your activity for the month.</p>
            </section>

            <section class="charts-row" style="display:flex;gap:32px;">
                <div class="calendar-card" style="flex:1;min-width:280px">
                    <div class="calendar-header"><strong id="monthName">Month</strong></div>
                    <div id="calendarGrid" class="calendar-grid"></div>
                </div>
                <div class="chart-card" style="flex:1;min-width:280px">
                    <div class="calendar-header"><strong>Weekly Points</strong></div>
                    <div id="weeklyChart" class="chart-container"></div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const date=new Date(); const months=["January","February","March","April","May","June","July","August","September","October","November","December"];
        document.getElementById('monthName').innerText=months[date.getMonth()]+' '+date.getFullYear();
        const calendarGrid=document.getElementById('calendarGrid');
        const days=new Date(date.getFullYear(),date.getMonth()+1,0).getDate();
        ['Su','Mo','Tu','We','Th','Fr','Sa'].forEach(d=>{const e=document.createElement('div');e.className='weekday-label';e.innerText=d;calendarGrid.appendChild(e)});
        for(let i=1;i<=days;i++){const el=document.createElement('div');el.className='day-cell';el.innerText=i;calendarGrid.appendChild(el)}
    </script>

    <script>
    (function(){
        const overlay=document.getElementById('loadingOverlay');
        const gif=document.getElementById('loadingGif');
        const container=document.querySelector('.page-container');
        const fadeDuration=1000, totalVisible=3000, fadeStart=Math.max(0,totalVisible-fadeDuration);
        function show(){ overlay.style.display='flex'; overlay.style.opacity='1'; gif.style.opacity='1'; container.classList.add('dimmed'); document.body.classList.add('no-scroll'); setTimeout(()=>{gif.style.opacity='0.01'},fadeStart); setTimeout(()=>{overlay.style.display='none'; container.classList.remove('dimmed'); document.body.classList.remove('no-scroll'); gif.style.opacity='1'}, totalVisible); }
        window.addEventListener('DOMContentLoaded', show); window.addEventListener('pageshow', show);
    })();
    </script>

    <script src="tour.js"></script>
</body>
</html>